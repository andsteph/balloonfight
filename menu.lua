-- menu mode ------------------
menu = {
    selected = 1,
    items = {
        { text = 'game start', mode = 'play' },
        { text = 'balloon trip', mode = 'trip' }
    },
    balloon = {
        '11999999999991111199999999999111119911111199111111999999999991111199999999999111119991111111911',
        '19999999999779111999999999977911199791111997911119999999999779111999999999977911199779111119791',
        '99999999999997919999999999999791999791119997911199999999999997919999999999999791999997911119979',
        '99999119999997919999911999999791999991119999911199999119999997919999911999999791999997911119979',
        '99991111999999919999111199999991999991119999911199991111999999919999111199999991999999991199999',
        '99991111999999919999111199999991999991119999911199991111999999919999111199999991999999999999999',
        '99999119999999119999911999999991999991119999911199999119999999919999911999999991999999999999999',
        '99999999999991119999999999999991999991119999911199999999999999919999999999999991999999999999999',
        '99999999999979119999999999999991999991119999911199999999999999919999999999999991999999999999999',
        '99999119999997919999911999999991999991119999911199999999999999919999999999999991999999999999999',
        '99991111999997919999111199999991999991119999911199999999999999919999999999999991999991199999999',
        '99991111999999919999111199999991999991119999911199999999999999919999999999999991999911119999999',
        '99999119999999919999111199999991999979119999791199999999999999919999999999999991999911119999999',
        '99999999999999919999111199999991999997919999979199999999999999919999999999999991999911119999999',
        '19999999999999111999111119999911199999911999999119999999999999111999999999999911199911111999991',
        '11999999999991111191111111999111119999111199991111999999999991111199999999999111119111111199911',
    },
    fight = {
        '11999999999991111177111111999999999991111191111111999111119999999999911',
        '19999999999779111999711119999999999779111979111119977911199999999997791',
        '99999999999997919999711199999999999997919979111199999791999999999999979',
        '99999999999999119999911199999119999997919999111199999791199999999999991',
        '99999999999991119999911199991111199999119999911999999991119999999999911',
        '99999991111111119999911199991111111991119999999999999991111199999911111',
        '99999911111111119999911199991111111111119999999999999991111199999911111',
        '99999911111111119999911199991111111111119999999999999991111199999911111',
        '99999999999999119999911199991999999991119999999999999991111199999911111',
        '99999999999977919999911199991999999779119999999999999991111199999911111',
        '99999999999999119999911199991199999997919999999999999991111199999911111',
        '99999911111111119999911199991111999997919999911999999991111199999911111',
        '99999911111111119999911199991111999999919999111199999991111199999911111',
        '99999911111111119999911199999119999999919999111199999991111199999911111',
        '19999111111111111999911119999999199999111999111119999911111119999111111',
        '11991111111111111199111111999991119991111191111111999111111111991111111'
    },
    init = function(self)
        _draw = self.draw
        _update = self.update
    end,
    draw = function()
        self = menu
        cls(bgcolor)
        local start_y = 16
        local x = 0
        local y = 16
        str_spr(self.balloon, 16, start_y)
        str_spr(self.fight, 40, start_y + 17)
        for i, item in ipairs(self.items) do
            local y = (i - 1) * 10 + start_y + 50
            if self.selected == i then
                rectfill(16, y - 2, 112, y + 6, 8)
            end
            printc(item.text, y, nil, nil, 7)
        end
    end,
    update = function()
        self = menu
        if btnp(⬆️) then
            self.selected -= 1
        end
        if btnp(⬇️) then
            self.selected += 1
        end
        self.selected = mid(1, self.selected, 2)
        if btnp(4) or btnp(5) then
            local item = self.items[self.selected]
            if item.mode == 'play' then
                player:init()
                play:init()
            end
        end
    end
}
